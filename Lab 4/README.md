# Лабораторная №4

## Цель работы:
Научиться создавать веб-страницы с помощью HTML, CSS и PHP-скриптов, которые взаимодействуют с базой данных MySQL.

В данной лабораторной работе необходимо написать две веб-страницы: страницу оформления заказа, а также страницу входа в аккаунт. С точки зрения архитектуры сайта это две разные страницы, которые не могут являться точкой входа для пользователя. Поэтому в качестве главной страницы была создана страница, которая встречает пользователя двумя кнопками: «Вход в аккаунт» и «Оформление заказа».

<img width="1504" alt="image" src="https://github.com/user-attachments/assets/735fc581-8a22-490e-be8a-0bc8d550d87b" />

При нажатии на кнопку «Вход в аккаунт» пользователь попадает на страницу входа в аккаунт. На ней пользователю предлагается ввести электронную почту и пароль, чтобы авторизоваться в аккаунт. После ввода данных и нажатия кнопки «Войти», запускается PHP-скрипт, обрабатывающих вход в аккаунт.

<img width="1510" alt="image" src="https://github.com/user-attachments/assets/073cb345-b50a-4ade-9ce2-ec649fc36437" />

По условию задания первый вход в аккаунт должен создавать новую запись в базе данных, поэтому вход в аккаунт работает как регистрация. Если пользователь с таким почтовым адресом уже есть в базе данных, то новая запись не создается, а сохраняется старая.

После того, как PHP-скрипт отработал, пользователя перекидывает на страницу, уведомляющую о том, что вход успешно совершен. После этого пользователь, нажав на кнопку «Вернуться на главную», может перейти обратно на главную страницу.

<img width="1505" alt="image" src="https://github.com/user-attachments/assets/5ed06aa3-de73-48b7-9d16-5d5c7fd96e95" />


Если пользователь на главной странице нажал кнопку «Оформление заказа», то его перекидывает на страницу оформления заказа. На ней пользователю предлагается выбрать один из товаров, который он хочет приобрести, а также ввести свою фамилию, имя, отчество, адрес электронной почты, телефонный номер, а также физический адрес. Также пользователь может оставить комментарий к заказу при необходимости. При нажатии кнопки «Отправить» запускается PHP-скрипт, который обрабатывает создание заказа.

<img width="1511" alt="image" src="https://github.com/user-attachments/assets/081d93f2-deb8-4c2a-99a7-72e6d914e702" />

Так как веб-страница обладает достаточно скромным функционалом, проверка на то, что оформление заказа производит авторизованный пользователь, не происходит. Вместо этого, в качестве заглушки, при создании заказа также создается пользователь с указанным email, если такой еще не существует, и пустым паролем.

<img width="1510" alt="image" src="https://github.com/user-attachments/assets/65c8a6fc-84d3-4bac-a5d4-d6f5abc11cff" />

После того, как PHP-скрипт отработал, пользователя перекидывает на страницу, уведомляющую о том, что заказ успешно оформлен. После этого пользователь, нажав на кнопку «Вернуться на главную», может перейти обратно на главную страницу.

Для удобства, все функции для работы с базой данных вынесены в отдельный файл database.php. В качестве СУБД была выбрана СУБД MySQL, поскольку имеет достаточно хорошую интеграцию в PHP.

В приложении используется две таблицы: user_account и order_info. Первая хранит информацию о пользователе, например, его фамилию, имя и отчество, адрес электронной почты, телефон а также пароль. Вторая таблица хранит информацию о заказе, например, тип выбранного товара, адрес, комментарий к заказу, а также идентификатор пользователя, на которого зарегистрирован этот заказ. В данном случае была использована связь типа «один-ко-многим», поскольку один пользователь может сделать несколько заказов, при этом каждый заказ может относиться только к одному пользователю.

## Вывод
В ходе выполнения лабораторной работы я научился создавать веб-страницы с помощью HTML, CSS и PHP-скриптов, которые взаимодействуют с базой данных MySQL.
